### 算术运算符：+ - * / % ++ --

+：还可以作为字符串连接运算符

/：整数之间相除结果为整数，无法整除时向下取整，除数不能为0(*除数为0编译不报错，运行报错*)；

> *含浮点数的除法运算，除数可为0*：除数非零时，即普通除法运算，结果为浮点数；除数为0时，被除数非零，结果为+∞或-∞，被除数也为0，结果为NaN.
>

示例：

```powershell
jshell> System.out.print(5 / 2)
2
jshell> System.out.print(5.0/2.0)
2.5
jshell> System.out.print(5/0.0)
Infinity
jshell> System.out.print(-5.0/0)
-Infinity
jshell> System.out.print(0/0.0)
NaN
```

%:整数之间求余结果为整数，除数不为0；结果与被模数同号。

> 含浮点数的求余运算，除数可为0：除数非零时，结果为浮点数，即整除后的余数；任何数对0或0.0求余，结果都是NaN，0或0.0对任何非零数求余，结果都是0.0.
>

示例：

```powershell
jshell> System.out.print(5 % 2)
1
jshell> System.out.print(5.0 % 2.0)
1.0
jshell> System.out.print(5 % 0.0)
NaN
jshell> System.out.print(0 % 0.0)
NaN
jshell> System.out.print(0 % 5.0)
0.0
```

++/--：自加/自减，**单目运算符**，只能操作变量，不能操作常量。

> 符号在操作变量左，变量先自加/自减，再参与后续运算；符号在操作变量右，变量先参与运算，再自加/自减。
>

示例：

```powershell
jshell> int a = 5;
jshell> int b = 6;
jshell> System.out.print(b+a++)
11
jshell> System.out.print(a)
6
```

```powershell
jshell> int a = 5;
jshell> int b = 6;
jshell> System.out.print(b+ ++a)
12
jshell> System.out.print(a)
6
```

> Java中乘方/开方等高级运算需要借助Math类中的方法：
>
> - 乘方：Math.pow(double a, double b) --> 返回 a 的 b 次方
> - 开方：Math.sqrt(double a) -->返回a的算数平方根
> - 随机数：Math.random() --> 返回0.0~1.0的浮点数，伪随机数
> - 三角函数：Math.sin() Math.cos() Math.tan() ...
>

### 位运算符：& | ~ ^ << >> >>>

&：按位与，两位同时为1返回1，否则返回0；

|：按位或，两位同时为0返回0，否则返回1；

~：按位非，**单目运算符**，将操作数每个位(包括符号位)全部取反；

^：按位异或，两位相同时返回0，不同时返回1；

<<：左移运算符，将操作数的二进制码整体左移指定位数，左移后右边空位**以0填充**。

\>>：右移运算符；将操作数的二进制码整体右移指定位数，右移后左边空位**以符号位填充**。

\>>>：无符号右移运算符，右移后**以0填充**。

> 注：
>
> - 一般来说，位运算符只能操作整数类型的变量或值。
> - 位运算生成新的运算结果，不会改变操作数本身。
> - 对byte/short/char类型的操作数进行位运算，自动类型转换为int再移位；
> - 对于int类型的操作数进行位运算a>>b，当b>32时，b = b%32；
> - 对于long类型的操作数进行位运算a>>b，当b>64时，b = b% 64;
>

### 赋值运算符

**赋值表达式是有值的**，赋值表达式的值就是等号(=)右边表达式的值，因此可以为多个变量连续赋值。如:

```java
int a, b, c;
a = b = c = 7;
```

> 扩展的赋值运算符：+= -= *= /= &= |= ^= %= <<= >>= >>>=
>

### 比较运算符

结果返回true或false。

< <= > >= 都只支持数值类型的变量或常量进行比较；

==：左右操作数都是数值类型时，值相等则返回true(数据类型可不相同)，如：`97 == 'a' -->true;`

> 左右操作数是引用类型时，两者引用的变量类型具有父子关系时才可比较，且仅当两个引用指向同一对象时返回true;
>
> 两个布尔型数据也可比较：`true == false -->false;`
>

!=：使用条件同==，只是结果相反。

### 逻辑运算符

结果返回true或false.

&&：短路与，左右表达式同为true才返回true，否则返回false，左式为false时短路，右式不执行；

&：不短路与

||：短路或，左右表达式有true就返回true，同为false才返回false，左式为true时短路，右式不执行；

|：不短路或

!：**单目运算符**，非

^：异或，左右表达式不同则返回true，相同则返回false。

### 三目运算符

(expression) ? true-statement : false-statement;

三目运算符是较简单的if-else语句的简写，如：

```java
String str = 5 > 3 ? "5 is bigger than 3" : "5 is smaller than 3";
```

> 注：冒号两边的数据类型需要相同，若不同则自动提升，不能提升时报错。例题见坑
>

### 运算符的结合性和优先级

#### 结合性

单目运算符、赋值运算符、三目运算符：从右向左结合

其余运算符：从左向右结合

#### 优先级

从高到低如下：

|                    |                                                |
| ------------------ | ---------------------------------------------- |
| 分隔符             | .(成员) []   () {} ;                           |
| 单目运算符         | ++ --   ~ ！                                   |
| 强制类型转换运算符 | (Type)                                         |
| 乘/除/求余         | * / %                                          |
| 加/减              | + -                                            |
| 移位运算符         | << >>   >>>                                    |
| 关系运算符         | < <=   >= > instanceof                         |
| 等价运算符         | == !=                                          |
| 按位与             | &                                              |
| 按位异或           | ^                                              |
| 按位或             | \|                                              |
| 条件与             | &&                                             |
| 条件或             | \|\|                                             |
| 三目运算符         | ? :                                            |
| 赋值运算符         | = +=   -= *= /=   &= \|= ^=   %= <<= >>=   >>>= |

> 不要过多依赖运算符的优先级来控制表达式的执行顺序，尽量使用()来控制表达式的执行顺序，以提高可读性。
>

### 其他

整数运算可能溢出：

整数由于存在范围限制，如果计算结果超出了范围，就会产生溢出，而溢出不会出错，而是得到一个奇怪的结果：

```java
public class Main {
    public static void main(String[] args) {
        int x = 2147483640;
        int y = 15;
        int sum = x + y;
        System.out.println(sum); // -2147483641
    }
}
```